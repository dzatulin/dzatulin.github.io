---
title: "Восстанавление реаликации (skip transaction)"
date: 2021-09-28
tags: 
  - MariaDB
categories:
  - Blog
---
### Восстановление репликации 
Если поломалась одна реплика между master-slave серверами, мы можем восстановить ее пропустив одну или несколько транзаций.

На сервере на котором произошла ошибка, пробуем пропустить транзакцию. Пропускаем не больше одной транзакции за раз. 

```
STOP SLAVE 'master-slave';
set @@default_master_conection='master-slave';
set GlOBAL SQL_SLAVE_SKIP_COUNTER = 1;
START SLAVE 'master-slave';
``

Если Slave сервер подключен к нескольким мастерам, то скорее всего нужно будет пропустить две транзакции, так как такой Slave получает изменения от двух мастеров. Но пропускать необходимо по одной транзакции, убедившить, что пропуск одной не помог починить реплику, только тогда пропускаем следующую. 
